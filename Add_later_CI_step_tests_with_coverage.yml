    steps:
      - name: Run Tests with Coverage
        # Запускаем тесты с генерацией отчета
        run: |
          poetry run pytest --cov=apps --cov-report=term-missing --cov-fail-under=80

      - name: Upload Coverage to Summary
        # Добавляем отчет в визуальный дашборд GitHub Actions
        if: always()
        run: |
          poetry run coverage report > coverage_report.txt
          cat coverage_report.txt >> $GITHUB_STEP_SUMMARY
